Blockchain Sample
=====

Rust で実装するブロックチェーンサンプル  

[元の記事](https://qiita.com/tamurahey/items/f64e5aa1006721e73eac)  


## 実行方法  

詳しくは Cargo.toml を参考に  
```sh
cargo run --bin v1
```

- v1  シンプルな取引の実装
- v2  電子署名の実装
- v3  中央集権サーバによる検証の実装
- v4  分散合意による正当性検証の実装


## 実行サンプル

```sh
% cargo run --bin v4
    Finished dev [unoptimized + debuginfo] target(s) in 0.04s
     Running `target/debug/v4`
Mining Block (nonce = 0, hash = [195, 28, 75, 105, 32, 157, 235, 68, 131, 205, 134, 42, 194, 124, 112, 231, 39, 20, 80, 147, 55, 251, 197, 136, 180, 235, 59, 207, 123, 247, 78, 208, 20, 135,
Mining Block (nonce = 1, hash = [155, 118, 223, 195, 219, 23, 109, 18, 76, 222, 133, 8, 18, 48, 16, 186, 100, 51, 246, 73, 157, 130, 252, 138, 148, 5, 254, 52, 220, 3, 165, 202, 115, 8, 189,
Mining Block (nonce = 2, hash = [61, 248, 142, 58, 159, 212, 102, 245, 75, 36, 66, 219, 253, 207, 170, 178, 188, 158, 207, 162, 119, 12, 188, 183, 50, 241, 200, 25, 200, 248, 127, 217, 33, 1
Mining Block (nonce = 3, hash = [100, 243, 69, 196, 118, 145, 181, 17, 102, 12, 79, 195, 148, 243, 129, 97, 132, 124, 196, 203, 246, 0, 210, 171, 213, 206, 91, 57, 126, 20, 106, 121, 143, 11
Mining Block (nonce = 4, hash = [106, 182, 131, 227, 207, 210, 81, 254, 23, 149, 103, 182, 76, 192, 69, 141, 163, 75, 239, 179, 74, 252, 96, 218, 236, 35, 124, 8, 7, 153, 163, 114, 75, 106, 
Mining Block (nonce = 5, hash = [157, 72, 111, 32, 246, 142, 135, 109, 147, 106, 53, 27, 60, 26, 196, 141, 15, 101, 46, 220, 111, 214, 143, 82, 188, 2, 25, 91, 45, 159, 52, 16, 254, 233, 189
Mining Block (nonce = 6, hash = [1, 20, 192, 104, 78, 156, 43, 239, 32, 255, 44, 199, 143, 32, 106, 121, 54, 143, 96, 92, 215, 167, 64, 77, 70, 88, 149, 218, 52, 162, 21, 29, 152, 153, 217, 
Mining Block (nonce = 7, hash = [75, 57, 136, 100, 14, 64, 236, 191, 60, 28, 190, 141, 72, 152, 203, 191, 142, 5, 164, 105, 150, 112, 100, 136, 73, 254, 222, 123, 69, 22, 3, 245, 230, 111, 1
Mining Block (nonce = 8, hash = [20, 156, 170, 131, 109, 114, 123, 29, 38, 247, 164, 31, 237, 110, 104, 181, 172, 240, 133, 21, 50, 49, 22, 122, 210, 180, 49, 134, 173, 76, 13, 68, 36, 42, 1
Mining Block (nonce = 9, hash = [6, 14, 21, 122, 209, 206, 151, 189, 40, 99, 200, 224, 10, 116, 97, 75, 60, 136, 117, 242, 214, 55, 81, 135, 140, 199, 196, 222, 82, 207, 255, 49, 143, 113, 1
Mining Block (nonce = 10, hash = [129, 124, 66, 7, 153, 110, 163, 230, 77, 194, 17, 106, 202, 126, 92, 97, 32, 75, 120, 136, 7, 163, 14, 161, 145, 190, 153, 83, 188, 204, 83, 61, 22, 141, 17
Mining Block (nonce = 11, hash = [60, 116, 154, 211, 129, 228, 181, 73, 255, 53, 54, 84, 52, 152, 96, 10, 78, 27, 146, 8, 99, 65, 247, 12, 255, 124, 141, 181, 108, 231, 200, 232, 137, 149, 1
Mining Block (nonce = 12, hash = [11, 168, 200, 254, 96, 150, 238, 252, 51, 42, 204, 48, 221, 29, 230, 150, 105, 128, 120, 235, 130, 192, 72, 26, 182, 25, 160, 110, 89, 27, 50, 132, 43, 231,
Mining Block (nonce = 13, hash = [182, 183, 161, 61, 134, 32, 118, 219, 4, 212, 99, 201, 244, 195, 37, 25, 114, 173, 198, 132, 63, 124, 219, 86, 100, 121, 166, 130, 84, 210, 181, 122, 7, 135
Mining Block (nonce = 14, hash = [162, 12, 13, 191, 203, 238, 2, 88, 185, 245, 67, 111, 81, 206, 88, 43, 229, 208, 127, 227, 100, 161, 146, 6, 87, 107, 44, 83, 102, 123, 46, 8, 210, 100, 104
Mining Block (nonce = 15, hash = [186, 82, 144, 125, 162, 216, 15, 91, 233, 56, 43, 218, 22, 124, 200, 250, 190, 40, 85, 63, 31, 227, 213, 4, 182, 80, 77, 19, 119, 89, 176, 52, 190, 98, 123,
Mining Block (nonce = 16, hash = [65, 150, 232, 174, 150, 91, 146, 179, 78, 34, 245, 97, 209, 143, 170, 255, 2, 75, 134, 118, 162, 34, 48, 184, 150, 167, 218, 68, 138, 73, 190, 220, 230, 212
Mining Block (nonce = 17, hash = [141, 133, 244, 150, 114, 239, 249, 55, 16, 31, 160, 120, 221, 165, 25, 122, 229, 237, 245, 46, 220, 179, 80, 78, 249, 123, 247, 42, 83, 129, 55, 144, 38, 14
Mining Block (nonce = 18, hash = [255, 246, 4, 36, 78, 145, 175, 101, 17, 115, 8, 185, 224, 145, 111, 14, 46, 18, 164, 56, 97, 99, 123, 245, 82, 75, 109, 99, 118, 58, 123, 41, 202, 137, 125,
Mining Block (nonce = 19, hash = [220, 99, 182, 38, 5, 230, 62, 64, 73, 253, 51, 209, 147, 51, 157, 68, 163, 4, 55, 92, 5, 149, 149, 89, 207, 50, 214, 184, 217, 85, 208, 152, 108, 5, 97, 92,
Mining Block (nonce = 20, hash = [215, 240, 178, 222, 181, 32, 39, 5, 214, 231, 107, 200, 82, 226, 108, 55, 226, 3, 18, 233, 231, 161, 52, 181, 150, 36, 174, 62, 97, 65, 202, 233, 71, 246, 1
Mining Block (nonce = 21, hash = [167, 120, 23, 115, 205, 246, 143, 155, 186, 11, 82, 143, 1, 113, 177, 32, 181, 89, 84, 228, 72, 199, 77, 251, 212, 60, 248, 221, 122, 19, 211, 46, 22, 103, 
Mining Block (nonce = 22, hash = [222, 60, 25, 15, 176, 173, 21, 185, 178, 247, 36, 240, 189, 94, 250, 83, 252, 51, 175, 128, 100, 64, 110, 11, 227, 128, 190, 151, 147, 64, 167, 91, 22, 197,
Mining Block (nonce = 23, hash = [213, 148, 63, 90, 203, 53, 18, 195, 65, 106, 28, 230, 81, 170, 110, 71, 130, 53, 58, 21, 252, 97, 239, 76, 119, 170, 182, 23, 222, 210, 1, 56, 148, 1, 147, 
Mining Block (nonce = 24, hash = [100, 103, 210, 212, 27, 97, 199, 142, 91, 47, 230, 101, 223, 24, 225, 254, 86, 86, 183, 246, 55, 32, 179, 200, 160, 219, 26, 255, 29, 247, 49, 67, 57, 161, 
Mining Block (nonce = 25, hash = [147, 10, 184, 84, 8, 18, 112, 141, 216, 29, 20, 89, 199, 90, 69, 13, 141, 72, 139, 248, 129, 100, 227, 185, 25, 61, 175, 15, 243, 127, 50, 208, 93, 126, 166
Mining Block (nonce = 26, hash = [80, 140, 37, 88, 126, 96, 102, 137, 78, 174, 213, 181, 136, 103, 164, 40, 82, 234, 199, 42, 19, 0, 83, 50, 43, 168, 152, 117, 94, 107, 106, 20, 213, 196, 18
Mining Block (nonce = 27, hash = [27, 176, 48, 38, 162, 179, 121, 113, 152, 232, 225, 33, 136, 70, 20, 72, 56, 242, 109, 96, 86, 133, 210, 160, 79, 243, 250, 184, 154, 122, 200, 12, 154, 111
Mining Block (nonce = 28, hash = [76, 128, 250, 149, 203, 100, 158, 255, 10, 165, 240, 164, 56, 4, 162, 51, 143, 247, 4, 224, 74, 88, 47, 73, 121, 64, 128, 194, 205, 50, 220, 55, 222, 203, 4
Mining Block (nonce = 29, hash = [202, 228, 140, 155, 41, 237, 140, 13, 164, 240, 194, 80, 63, 134, 111, 190, 149, 199, 86, 64, 216, 25, 107, 39, 149, 84, 2, 196, 253, 11, 18, 93, 71, 14, 76
Mining Block (nonce = 30, hash = [180, 3, 250, 210, 200, 75, 3, 24, 250, 83, 114, 213, 229, 167, 104, 215, 31, 127, 224, 43, 237, 99, 118, 198, 118, 197, 89, 105, 199, 38, 103, 211, 93, 28, 
Mining Block (nonce = 31, hash = [29, 210, 24, 234, 203, 237, 221, 51, 64, 234, 37, 71, 252, 48, 204, 193, 96, 102, 254, 119, 34, 163, 218, 217, 212, 167, 163, 187, 37, 186, 165, 152, 8, 213
Mining Block (nonce = 32, hash = [0, 4, 150, 206, 185, 2, 251, 69, 202, 189, 168, 0, 104, 212, 131, 30, 154, 228, 60, 202, 107, 114, 233, 163, 221, 124, 176, 241, 195, 218, 136, 174, 133, 250, 14, 185, 83, 143, 211, 12, 173, 108, 227, 202, 249, 251, 254, 209, 154, 167, 65, 251, 142, 228, 4, 46, 226, 70, 120, 42, 128, 57, 112, 214])
Block nonce: 32
Block hash: [0, 4, 150, 206, 185, 2, 251, 69, 202, 189, 168, 0, 104, 212, 131, 30, 154, 228, 60, 202, 107, 114, 233, 163, 221, 124, 176, 241, 195, 218, 136, 174, 133, 250, 14, 185, 83, 143, 211, 12, 173, 108, 227, 202, 249, 251, 254, 209, 154, 167, 65, 251, 142, 228, 4, 46, 226, 70, 120, 42, 128, 57, 112, 214]
Difficulty: 1
verify: true
Block chain: [Block { time: 2020-08-08T04:54:07.764016Z, transactions: [], previous_hash: [], nonce: 0 }, Block { time: 2020-08-08T04:54:07.764937Z, transactions: [Transaction { sender_address: [222, 247, 76, 235, 96, 120, 150, 149, 182, 91, 237, 35, 81, 228, 254, 168, 209, 116, 58, 25, 162, 203, 134, 229, 230, 212, 26, 24, 198, 106, 84, 196], receiver_address: [234, 20, 83, 134, 48, 225, 24, 89, 22, 166, 134, 232, 43, 109, 0, 36, 17, 240, 240, 68, 166, 69, 171, 132, 218, 81, 221, 133, 231, 211, 145, 220], value: 5.0, sign: [190, 122, 51, 6, 170, 212, 224, 61, 69, 48, 129, 96, 115, 62, 241, 66, 18, 150, 94, 143, 11, 181, 191, 151, 193, 133, 25, 82, 106, 76, 248, 220, 91, 73, 161, 172, 115, 217, 249, 189, 204, 239, 104, 80, 135, 121, 73, 179, 141, 221, 29, 178, 151, 141, 229, 222, 198, 153, 183, 71, 134, 212, 34, 15] }, Transaction { sender_address: [234, 20, 83, 134, 48, 225, 24, 89, 22, 166, 134, 232, 43, 109, 0, 36, 17, 240, 240, 68, 166, 69, 171, 132, 218, 81, 221, 133, 231, 211, 145, 220], receiver_address: [222, 247, 76, 235, 96, 120, 150, 149, 182, 91, 237, 35, 81, 228, 254, 168, 209, 116, 58, 25, 162, 203, 134, 229, 230, 212, 26, 24, 198, 106, 84, 196], value: 7.0, sign: [135, 229, 97, 110, 28, 50, 166, 73, 14, 124, 147, 34, 216, 191, 187, 206, 22, 174, 184, 255, 27, 141, 234, 58, 18, 195, 243, 14, 241, 36, 76, 86, 151, 244, 53, 119, 206, 62, 104, 101, 143, 161, 93, 211, 109, 157, 82, 121, 117, 173, 55, 160, 212, 244, 216, 185, 120, 68, 224, 228, 174, 108, 119, 11] }], previous_hash: [62, 99, 167, 236, 80, 120, 247, 228, 16, 228, 167, 71, 242, 34, 34, 19, 58, 24, 78, 64, 224, 93, 204, 215, 185, 255, 196, 167, 248, 233, 3, 250, 124, 228, 102, 16, 219, 64, 117, 54, 36, 112, 19, 243, 188, 228, 70, 242, 162, 227, 179, 81, 199, 80, 36, 129, 129, 167, 233, 68, 36, 155, 9, 251], nonce: 32 }]
```

